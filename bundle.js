var app=function(){"use strict";function noop(){}function assign(t,e){for(const n in e)t[n]=e[n];return t}function run(t){return t()}function blank_object(){return Object.create(null)}function run_all(t){t.forEach(run)}function is_function(t){return"function"==typeof t}function safe_not_equal(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function subscribe(t,...e){if(null==t)return noop;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function component_subscribe(t,e,n){t.$$.on_destroy.push(subscribe(e,n))}function create_slot(t,e,n,i){if(t){const o=get_slot_context(t,e,n,i);return t[0](o)}}function get_slot_context(t,e,n,i){return t[1]&&i?assign(n.ctx.slice(),t[1](i(e))):n.ctx}function get_slot_changes(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|o[i];return t}return e.dirty|o}return e.dirty}function append(t,e){t.appendChild(e)}function insert(t,e,n){t.insertBefore(e,n||null)}function detach(t){t.parentNode.removeChild(t)}function element(t){return document.createElement(t)}function text(t){return document.createTextNode(t)}function space(){return text(" ")}function empty(){return text("")}function listen(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function attr(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function children(t){return Array.from(t.childNodes)}function set_data(t,e){e=""+e,t.data!==e&&(t.data=e)}function set_style(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}function custom_event(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}let current_component;function set_current_component(t){current_component=t}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(t){get_current_component().$$.on_mount.push(t)}function onDestroy(t){get_current_component().$$.on_destroy.push(t)}function createEventDispatcher(){const t=get_current_component();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const o=custom_event(e,n);i.slice().forEach(e=>{e.call(t,o)})}}}function setContext(t,e){get_current_component().$$.context.set(t,e)}function getContext(t){return get_current_component().$$.context.get(t)}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(t){render_callbacks.push(t)}let flushing=!1;const seen_callbacks=new Set;function flush(){if(!flushing){flushing=!0;do{for(let t=0;t<dirty_components.length;t+=1){const e=dirty_components[t];set_current_component(e),update(e.$$)}for(dirty_components.length=0;binding_callbacks.length;)binding_callbacks.pop()();for(let t=0;t<render_callbacks.length;t+=1){const e=render_callbacks[t];seen_callbacks.has(e)||(seen_callbacks.add(e),e())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,flushing=!1,seen_callbacks.clear()}}function update(t){if(null!==t.fragment){t.update(),run_all(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(add_render_callback)}}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(t,e){t&&t.i&&(outroing.delete(t),t.i(e))}function transition_out(t,e,n,i){if(t&&t.o){if(outroing.has(t))return;outroing.add(t),outros.c.push(()=>{outroing.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}function create_component(t){t&&t.c()}function mount_component(t,e,n){const{fragment:i,on_mount:o,on_destroy:r,after_update:s}=t.$$;i&&i.m(e,n),add_render_callback(()=>{const e=o.map(run).filter(is_function);r?r.push(...e):run_all(e),t.$$.on_mount=[]}),s.forEach(add_render_callback)}function destroy_component(t,e){const n=t.$$;null!==n.fragment&&(run_all(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(t,e){-1===t.$$.dirty[0]&&(dirty_components.push(t),schedule_update(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function init(t,e,n,i,o,r,s=[-1]){const a=current_component;set_current_component(t);const l=e.props||{},c=t.$$={fragment:null,ctx:null,props:r,update:noop,not_equal:o,bound:blank_object(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:blank_object(),dirty:s};let h=!1;c.ctx=n?n(t,l,(e,n,...i)=>{const r=i.length?i[0]:n;return c.ctx&&o(c.ctx[e],c.ctx[e]=r)&&(c.bound[e]&&c.bound[e](r),h&&make_dirty(t,e)),n}):[],c.update(),h=!0,run_all(c.before_update),c.fragment=!!i&&i(c.ctx),e.target&&(e.hydrate?c.fragment&&c.fragment.l(children(e.target)):c.fragment&&c.fragment.c(),e.intro&&transition_in(t.$$.fragment),mount_component(t,e.target,e.anchor),flush()),set_current_component(a)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var strictUriEncode=t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),token="%[a-f0-9]{2}",singleMatcher=new RegExp(token,"gi"),multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),i=t.slice(e);return Array.prototype.concat.call([],decodeComponents(n),decodeComponents(i))}function decode(t){try{return decodeURIComponent(t)}catch(i){for(var e=t.match(singleMatcher),n=1;n<e.length;n++)e=(t=decodeComponents(e,n).join("")).match(singleMatcher);return t}}function customDecodeURIComponent(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=multiMatcher.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var i=decode(n[0]);i!==n[0]&&(e[n[0]]=i)}n=multiMatcher.exec(t)}e["%C2"]="�";for(var o=Object.keys(e),r=0;r<o.length;r++){var s=o[r];t=t.replace(new RegExp(s,"g"),e[s])}return t}var decodeUriComponent=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return customDecodeURIComponent(t)}},splitOnFirst=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const n=t.indexOf(e);return-1===n?[t]:[t.slice(0,n),t.slice(n+e.length)]},queryString=createCommonjsModule((function(t,e){function n(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function i(t,e){return e.encode?e.strict?strictUriEncode(t):encodeURIComponent(t):t}function o(t,e){return e.decode?decodeUriComponent(t):t}function r(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function s(t){const e=(t=r(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function a(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function l(t,e){n((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const i=function(t){let e;switch(t.arrayFormat){case"index":return(t,n,i)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===i[t]&&(i[t]={}),i[t][e[1]]=n):i[t]=n};case"bracket":return(t,n,i)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==i[t]?i[t]=[].concat(i[t],n):i[t]=[n]:i[t]=n};case"comma":case"separator":return(e,n,i)=>{const r="string"==typeof n&&n.split("").indexOf(t.arrayFormatSeparator)>-1?n.split(t.arrayFormatSeparator).map(e=>o(e,t)):null===n?n:o(n,t);i[e]=r};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;for(const n of t.split("&")){let[t,s]=splitOnFirst(e.decode?n.replace(/\+/g," "):n,"=");s=void 0===s?null:"comma"===e.arrayFormat?s:o(s,e),i(o(t,e),s,r)}for(const t of Object.keys(r)){const n=r[t];if("object"==typeof n&&null!==n)for(const t of Object.keys(n))n[t]=a(n[t],e);else r[t]=a(n,e)}return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((t,e)=>{const n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((t,e)=>Number(t)-Number(e)).map(t=>e[t]):e}(n):t[e]=n,t},Object.create(null))}e.extract=s,e.parse=l,e.stringify=(t,e)=>{if(!t)return"";n((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const o=function(t){switch(t.arrayFormat){case"index":return e=>(n,o)=>{const r=n.length;return void 0===o||t.skipNull&&null===o?n:null===o?[...n,[i(e,t),"[",r,"]"].join("")]:[...n,[i(e,t),"[",i(r,t),"]=",i(o,t)].join("")]};case"bracket":return e=>(n,o)=>void 0===o||t.skipNull&&null===o?n:null===o?[...n,[i(e,t),"[]"].join("")]:[...n,[i(e,t),"[]=",i(o,t)].join("")];case"comma":case"separator":return e=>(n,o)=>null==o||0===o.length?n:0===n.length?[[i(e,t),"=",i(o,t)].join("")]:[[n,i(o,t)].join(t.arrayFormatSeparator)];default:return e=>(n,o)=>void 0===o||t.skipNull&&null===o?n:null===o?[...n,i(e,t)]:[...n,[i(e,t),"=",i(o,t)].join("")]}}(e),r=Object.assign({},t);if(e.skipNull)for(const t of Object.keys(r))void 0!==r[t]&&null!==r[t]||delete r[t];const s=Object.keys(r);return!1!==e.sort&&s.sort(e.sort),s.map(n=>{const r=t[n];return void 0===r?"":null===r?i(n,e):Array.isArray(r)?r.reduce(o(n),[]).join("&"):i(n,e)+"="+i(r,e)}).filter(t=>t.length>0).join("&")},e.parseUrl=(t,e)=>({url:r(t).split("?")[0]||"",query:l(s(t),e)}),e.stringifyUrl=(t,n)=>{const i=r(t.url).split("?")[0]||"",o=e.extract(t.url),s=e.parse(o),a=function(t){let e="";const n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url),l=Object.assign(s,t.query);let c=e.stringify(l,n);return c&&(c=`?${c}`),`${i}${c}${a}`}})),queryString_1=queryString.extract,queryString_2=queryString.parse,queryString_3=queryString.stringify,queryString_4=queryString.parseUrl,queryString_5=queryString.stringifyUrl,index_umd=createCommonjsModule((function(t,e){t.exports=function(){var t=function(t){function e(e,n){var i="Unreachable '"+e+"', segment '"+n+"' is not defined";t.call(this,i),this.message=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);function e(t,e){var n,i,o=-100,r=[];n=t.replace(/[-$.]/g,"\\$&").replace(/\(/g,"(?:").replace(/\)/g,")?").replace(/([:*]\w+)(?:<([^<>]+?)>)?/g,(function(t,e,n){return r.push(e.substr(1)),":"===e.charAt()?(o+=100,"((?!#)"+(n||"[^#/]+?")+")"):(i=!0,o+=500,"((?!#)"+(n||"[^#]+?")+")")}));try{n=new RegExp("^"+n+"$")}catch(t){throw new TypeError("Invalid route expression, given '"+e+"'")}var s=t.includes("#")?.5:1,a=t.length*o*s;return{keys:r,regex:n,_depth:a,_isSplat:i}}var n=function(t,n){var i=e(t,n),o=i.keys,r=i.regex,s=i._depth;return{_isSplat:i._isSplat,_depth:s,match:function(t){var e=t.match(r);if(e)return o.reduce((function(t,n,i){return t[n]="string"==typeof e[i+1]?decodeURIComponent(e[i+1]):null,t}),{})}}};function i(t,e){return""+(e&&"/"!==e?e:"")+(t||"")}function o(t,e){var n=t.match(/<[^<>]*\/[^<>]*>/);if(n)throw new TypeError("RegExp cannot contain slashes, given '"+n+"'");var i=t.split(/(?=\/|#)/),o=[];"/"!==i[0]&&i.unshift("/"),i.some((function(t,n){var r=o.slice(1).concat(t).join("")||null,s=i.slice(n+1).join("")||null,a=e(t,r,s?""+("/"!==t?t:"")+s:null);return o.push(t),a}))}function r(e,n,i){var r,s={},a=[];return o(e,(function(o,l,c){var h;if(!n.keys)throw new t(e,o);if(n.keys.some((function(t){if(i.includes(t))return!1;var e=n[t].pattern,u=e.match,d=e._isSplat,g=u(d&&c||o);if(g){if(Object.assign(s,g),n[t].route){var p=Object.assign({},n[t].info),m=!1;m=p.exact?null===c:!(o&&null===l)||o===l||d||!c,p.matches=m,p.params=Object.assign({},s),p.route=n[t].route,p.path=d&&c||l||o,a.push(p)}return null===c&&!n[t].keys||("/"!==t&&i.push(t),r=d,n=n[t],h=!0,!0)}return!1})),!h&&!n.keys.some((function(t){return n[t].pattern.match(o)})))throw new t(e,o);return r||!h})),a}function s(t,e,n){for(var i=r.bind(null,t,e),o=[];n>0;){n-=1;try{return i(o)}catch(t){if(n>0)return i(o);throw t}}}n.push=function(t,e,i,o){var r=e[t]||(e[t]={});return r.pattern||(r.pattern=new n(t,o),r.route=(i||"").replace(/\/$/,"")||"/"),e.keys=e.keys||[],e.keys.includes(t)||(e.keys.push(t),n.sort(e)),r},n.sort=function(t){t.keys.sort((function(e,n){return t[e].pattern._depth-t[n].pattern._depth}))};var a=function(){var e={},r=[];return{resolve:function(t,n){var i=t.split("?")[0],r=[];o(i,(function(t,i,o){try{n(null,s(i,e,1).filter((function(t){return!r.includes(t.route)&&(r.push(t.route),!0)})))}catch(t){n(t,[])}}))},mount:function(t,e){"/"!==t&&r.push(t),e(),r.pop()},find:function(t,n){return s(t,e,!0===n?2:n||1)},add:function(t,s){return function(t,e,r,s){var a,l=i(t,r),c=e;return s&&!0!==s.nested&&(a=s.key,delete s.key),o(l,(function(t,e){c=n.push(t,c,e,l),"/"!==t&&(c.info=c.info||Object.assign({},s))})),c.info=c.info||Object.assign({},s),a&&(c.info.key=a),l}(t,e,r.join(""),s)},rm:function(s){return function(e,r,s){var a=i(e,s),l=r,c=null,h=null;if(o(a,(function(n){if(!l)return c=null,!0;if(!l.keys)throw new t(e,n);c=l,l=l[h=n]})),!c||!h)throw new t(e,h);if(c===r&&(c=r["/"]),c.route!==h){var u=c.keys.indexOf(h);if(-1===u)throw new t(e,h);c.keys.splice(u,1),n.sort(c),delete c[h]}l.route===c.route&&delete c.info}(s,e,r.join(""))}}};return a.matches=function(t,n){return e(t,n).regex.test(n)},a}()}));const subscriber_queue=[];function writable(t,e=noop){let n;const i=[];function o(e){if(safe_not_equal(t,e)&&(t=e,n)){const e=!subscriber_queue.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),subscriber_queue.push(n,t)}if(e){for(let t=0;t<subscriber_queue.length;t+=2)subscriber_queue[t][0](subscriber_queue[t+1]);subscriber_queue.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(r,s=noop){const a=[r,s];return i.push(a),1===i.length&&(n=e(o)||noop),r(t),()=>{const t=i.indexOf(a);-1!==t&&i.splice(t,1),0===i.length&&(n(),n=null)}}}}const cache={},baseTag=document.getElementsByTagName("base"),basePrefix=baseTag[0]&&baseTag[0].href.replace(/\/$/,"")||"/",ROOT_URL=basePrefix.replace(window.location.origin,""),router=writable({path:"/",query:{},params:{}}),CTX_ROUTER={};let HASHCHANGE="null"===window.location.origin;function hashchangeEnable(t){return"boolean"==typeof t&&(HASHCHANGE=!!t),HASHCHANGE}function fixedLocation(t,e){const n=hashchangeEnable()?window.location.hash.replace("#",""):window.location.pathname;"/"!==t.charAt()&&(t=n+t),n+window.location.hash+window.location.search!==t&&e(t)}function navigateTo(t,e){const{reload:n,replace:i,params:o,queryParams:r}=e||{};if(!t||"string"!=typeof t||"/"!==t[0]&&"#"!==t[0])throw new Error(`Expecting '/${t}' or '#${t}', given '${t}'`);if(o&&(t=t.replace(/:([a-zA-Z][a-zA-Z0-9_-]*)/g,(t,e)=>o[e])),"/"!==ROOT_URL&&0!==t.indexOf(ROOT_URL)&&(t=ROOT_URL+t),r){const e=queryString.stringify(r);e&&(t+=`?${e}`)}hashchangeEnable()?window.location.hash=t.replace(/^#/,""):!n&&window.history.pushState&&window.dispatchEvent?fixedLocation(t,t=>{window.history[i?"replaceState":"pushState"](null,"",t),window.dispatchEvent(new Event("popstate"))}):window.location.href=t}function isActive(t,e,n){return cache[[t,e,n]]||(!0!==n&&0===e.indexOf(t)?cache[[t,e,n]]=/^[#/?]?$/.test(e.substr(t.length,1)):t.includes("*")||t.includes(":")?cache[[t,e,n]]=index_umd.matches(t,e):cache[[t,e,n]]=e===t),cache[[t,e,n]]}const baseRouter=new index_umd,routeInfo=writable({}),onError={},shared={};let errors=[],routers=0,interval;function doFallback(t,e){routeInfo.update(n=>({...n,[e]:{...shared.router,failure:t}}))}function handleRoutes(t,e){const n=[];return t.some(t=>{if(t.key&&t.matches&&!t.fallback&&!shared.routeInfo[t.key]){if(t.redirect&&(null===t.condition||!0!==t.condition(shared.router)))return(!t.exact||shared.router.path===t.path)&&(navigateTo(t.redirect),!0);t.exact&&n.push(t.key),Object.assign(e,t.params),routeInfo.update(e=>({...e,[t.key]:{...shared.router,...t}}))}return!1}),n}function evtHandler(){let t,e=hashchangeEnable()?window.location.hash||"/":window.location.href.replace(window.location.origin,"");"/"!==ROOT_URL&&(e=e.replace(ROOT_URL,""));const[n,i]=e.replace("/#","#").replace(/^#\//,"/").split("?"),o=queryString.parse(i),r={},s=[];routeInfo.set({}),router.set({query:o,params:r,path:n}),baseRouter.resolve(n,(e,n)=>{e?t=e:s.push(...handleRoutes(n,r))});const a={};t&&s.reduce((t,e)=>(t[e]=null,t),a),errors.forEach(t=>t()),errors=[];try{baseRouter.find(n).forEach(t=>{t.exact&&!t.matches&&(a[t.key]=null)})}catch(t){}let l;routeInfo.update(t=>({...t,...a})),Object.keys(onError).forEach(e=>{if(isActive(e,n,!1)){const n=onError[e].callback;n(t),errors.push(n)}!l&&onError[e].fallback&&(l=onError[e].fallback)}),t&&l&&doFallback(t,l)}function findRoutes(){clearTimeout(interval),interval=setTimeout(evtHandler)}function addRouter(t,e,n){return routers||window.addEventListener("popstate",findRoutes,!1),onError[t]={fallback:e,callback:n},routers+=1,()=>{delete onError[t],routers-=1,routers||window.removeEventListener("popstate",findRoutes,!1)}}function create_if_block_1(t){let e;const n=t[15].default,i=create_slot(n,t,t[14],null);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,e){i&&i.p&&16384&e&&i.p(get_slot_context(n,t,t[14],null),get_slot_changes(n,t[14],e,null))},i(t){e||(transition_in(i,t),e=!0)},o(t){transition_out(i,t),e=!1},d(t){i&&i.d(t)}}}function create_if_block(t){let e,n,i,o,r,s,a;return{c(){e=element("fieldset"),n=element("legend"),i=text("Router failure: "),o=text(t[1]),r=space(),s=element("pre"),a=text(t[3]),attr(e,"data-failure",""),attr(e,"class","svelte-4f3cqr")},m(t,l){insert(t,e,l),append(e,n),append(n,i),append(n,o),append(e,r),append(e,s),append(s,a)},p(t,e){2&e&&set_data(o,t[1]),8&e&&set_data(a,t[3])},d(t){t&&detach(e)}}}function create_fragment(t){let e,n,i,o=!t[0]&&create_if_block_1(t),r=t[3]&&!t[4]&&!t[2]&&create_if_block(t);return{c(){o&&o.c(),e=space(),r&&r.c(),n=empty()},m(t,s){o&&o.m(t,s),insert(t,e,s),r&&r.m(t,s),insert(t,n,s),i=!0},p(t,[i]){t[0]?o&&(group_outros(),transition_out(o,1,1,()=>{o=null}),check_outros()):o?(o.p(t,i),transition_in(o,1)):(o=create_if_block_1(t),o.c(),transition_in(o,1),o.m(e.parentNode,e)),!t[3]||t[4]||t[2]?r&&(r.d(1),r=null):r?r.p(t,i):(r=create_if_block(t),r.c(),r.m(n.parentNode,n))},i(t){i||(transition_in(o),i=!0)},o(t){transition_out(o),i=!1},d(t){o&&o.d(t),t&&detach(e),r&&r.d(t),t&&detach(n)}}}function unassignRoute(t){baseRouter.rm(t),findRoutes()}function instance(t,e,n){let i,o,r,s,a;component_subscribe(t,router,t=>n(9,o=t));let{path:l="/"}=e,{disabled:c=!1}=e,{condition:h=null}=e,{nofallback:u=!1}=e;const d=getContext(CTX_ROUTER),g=d?d.basePath:writable(l);component_subscribe(t,g,t=>n(8,i=t));const p=i!==l&&"/"!==i?`${i}${"/"!==l?l:""}`:l;try{if(null!==h&&"function"!=typeof h)throw new TypeError(`Expecting condition to be a function, given '${h}'`);if("#"!==l.charAt()&&"/"!==l.charAt())throw new TypeError(`Expecting a leading slash or hash, given '${l}'`)}catch(t){s=t}function m(t,e,i){t=t||Math.random().toString(36).substr(2);const o=!e.substr(1).includes("/"),r={key:t,nested:o,...i};let s;return baseRouter.mount(p,()=>{s=baseRouter.add(e,r),n(4,a=r.fallback&&t||a)}),findRoutes(),[t,s]}function f(t){n(3,s=t),s&&a&&doFallback(s,a)}onMount(()=>{r=addRouter(p,a,f)}),onDestroy(()=>{r&&r()}),setContext(CTX_ROUTER,{basePath:g,assignRoute:m,unassignRoute:unassignRoute});let{$$slots:w={},$$scope:x}=e;return t.$set=t=>{"path"in t&&n(1,l=t.path),"disabled"in t&&n(0,c=t.disabled),"condition"in t&&n(6,h=t.condition),"nofallback"in t&&n(2,u=t.nofallback),"$$scope"in t&&n(14,x=t.$$scope)},t.$$.update=()=>{576&t.$$.dirty&&h&&n(0,c=!h(o))},[c,l,u,s,a,g,h,r,i,o,d,p,m,f,x,w]}router.subscribe(t=>{shared.router=t}),routeInfo.subscribe(t=>{shared.routeInfo=t});class Router extends SvelteComponent{constructor(t){super(),init(this,t,instance,create_fragment,safe_not_equal,{path:1,disabled:0,condition:6,nofallback:2})}}Object.defineProperty(Router,"hashchange",{set:t=>hashchangeEnable(t),get:()=>hashchangeEnable(),configurable:!1,enumerable:!1});var Winwheel_1=Winwheel;function Winwheel(t,e){let n={canvasId:"canvas",centerX:null,centerY:null,outerRadius:null,innerRadius:0,numSegments:1,drawMode:"code",rotationAngle:0,textFontFamily:"Arial",textFontSize:20,textFontWeight:"bold",textOrientation:"horizontal",textAlignment:"center",textDirection:"normal",textMargin:null,textFillStyle:"black",textStrokeStyle:null,textLineWidth:1,fillStyle:"silver",strokeStyle:"black",lineWidth:1,clearTheCanvas:!0,imageOverlay:!1,drawText:!0,pointerAngle:0,wheelImage:null,imageDirection:"N",responsive:!1,scaleFactor:1};for(let e in n)null!=t&&void 0!==t[e]?this[e]=t[e]:this[e]=n[e];if(null!=t)for(let e in t)void 0===this[e]&&(this[e]=t[e]);this.canvasId?(this.canvas=document.getElementById(this.canvasId),this.canvas?(null==this.centerX&&(this.centerX=this.canvas.width/2),null==this.centerY&&(this.centerY=this.canvas.height/2),null==this.outerRadius&&(this.canvas.width<this.canvas.height?this.outerRadius=this.canvas.width/2-this.lineWidth:this.outerRadius=this.canvas.height/2-this.lineWidth),this.ctx=this.canvas.getContext("2d")):(this.canvas=null,this.ctx=null)):(this.canvas=null,this.ctx=null),this.segments=new Array(null);for(let e=1;e<=this.numSegments;e++)null!=t&&t.segments&&void 0!==t.segments[e-1]?this.segments[e]=new Segment(t.segments[e-1]):this.segments[e]=new Segment;if(this.updateSegmentSizes(),null===this.textMargin&&(this.textMargin=this.textFontSize/1.7),null!=t&&t.animation&&void 0!==t.animation?this.animation=new Animation(t.animation):this.animation=new Animation,null!=t&&t.pins&&void 0!==t.pins&&(this.pins=new Pin(t.pins)),"image"==this.drawMode||"segmentImage"==this.drawMode?(void 0===t.fillStyle&&(this.fillStyle=null),void 0===t.strokeStyle&&(this.strokeStyle="red"),void 0===t.drawText&&(this.drawText=!1),void 0===t.lineWidth&&(this.lineWidth=1),void 0===e&&(e=!1)):void 0===e&&(e=!0),null!=t&&t.pointerGuide&&void 0!==t.pointerGuide?this.pointerGuide=new PointerGuide(t.pointerGuide):this.pointerGuide=new PointerGuide,this.responsive&&(winwheelToDrawDuringAnimation=this,this._originalCanvasWidth=this.canvas.width,this._originalCanvasHeight=this.canvas.height,this._responsiveScaleHeight=this.canvas.dataset.responsivescaleheight,this._responsiveMinWidth=this.canvas.dataset.responsiveminwidth,this._responsiveMinHeight=this.canvas.dataset.responsiveminheight,this._responsiveMargin=this.canvas.dataset.responsivemargin,window.addEventListener("load",winwheelResize),window.addEventListener("resize",winwheelResize)),1==e)this.draw(this.clearTheCanvas);else if("segmentImage"==this.drawMode){winwheelToDrawDuringAnimation=this,winhweelAlreadyDrawn=!1;for(let t=1;t<=this.numSegments;t++)null!==this.segments[t].image&&(this.segments[t].imgData=new Image,this.segments[t].imgData.onload=winwheelLoadedImage,this.segments[t].imgData.src=this.segments[t].image)}}function Pin(t){let e={visible:!0,number:36,outerRadius:3,fillStyle:"grey",strokeStyle:"black",lineWidth:1,margin:3,responsive:!1};for(let n in e)null!=t&&void 0!==t[n]?this[n]=t[n]:this[n]=e[n];if(null!=t)for(let e in t)void 0===this[e]&&(this[e]=t[e])}function Animation(t){let e={type:"spinOngoing",direction:"clockwise",propertyName:null,propertyValue:null,duration:10,yoyo:!1,repeat:null,easing:null,stopAngle:null,spins:null,clearTheCanvas:null,callbackFinished:null,callbackBefore:null,callbackAfter:null,callbackSound:null,soundTrigger:"segment"};for(let n in e)null!=t&&void 0!==t[n]?this[n]=t[n]:this[n]=e[n];if(null!=t)for(let e in t)void 0===this[e]&&(this[e]=t[e])}function Segment(t){let e={size:null,text:"",fillStyle:null,strokeStyle:null,lineWidth:null,textFontFamily:null,textFontSize:null,textFontWeight:null,textOrientation:null,textAlignment:null,textDirection:null,textMargin:null,textFillStyle:null,textStrokeStyle:null,textLineWidth:null,image:null,imageDirection:null,imgData:null};for(let n in e)null!=t&&void 0!==t[n]?this[n]=t[n]:this[n]=e[n];if(null!=t)for(let e in t)void 0===this[e]&&(this[e]=t[e]);this.startAngle=0,this.endAngle=0}function PointerGuide(t){let e={display:!1,strokeStyle:"red",lineWidth:3};for(let n in e)null!=t&&void 0!==t[n]?this[n]=t[n]:this[n]=e[n]}function winwheelAnimationLoop(){if(winwheelToDrawDuringAnimation){0!=winwheelToDrawDuringAnimation.animation.clearTheCanvas&&winwheelToDrawDuringAnimation.ctx.clearRect(0,0,winwheelToDrawDuringAnimation.canvas.width,winwheelToDrawDuringAnimation.canvas.height);let callbackBefore=winwheelToDrawDuringAnimation.animation.callbackBefore,callbackAfter=winwheelToDrawDuringAnimation.animation.callbackAfter;null!=callbackBefore&&("function"==typeof callbackBefore?callbackBefore():eval(callbackBefore)),winwheelToDrawDuringAnimation.draw(!1),null!=callbackAfter&&("function"==typeof callbackAfter?callbackAfter():eval(callbackAfter)),winwheelToDrawDuringAnimation.animation.callbackSound&&winwheelTriggerSound()}}function winwheelTriggerSound(){0==winwheelToDrawDuringAnimation.hasOwnProperty("_lastSoundTriggerNumber")&&(winwheelToDrawDuringAnimation._lastSoundTriggerNumber=0);let callbackSound=winwheelToDrawDuringAnimation.animation.callbackSound,currentTriggerNumber=0;currentTriggerNumber="pin"==winwheelToDrawDuringAnimation.animation.soundTrigger?winwheelToDrawDuringAnimation.getCurrentPinNumber():winwheelToDrawDuringAnimation.getIndicatedSegmentNumber(),currentTriggerNumber!=winwheelToDrawDuringAnimation._lastSoundTriggerNumber&&("function"==typeof callbackSound?callbackSound():eval(callbackSound),winwheelToDrawDuringAnimation._lastSoundTriggerNumber=currentTriggerNumber)}Winwheel.prototype.updateSegmentSizes=function(){if(this.segments){let t=0,e=0;for(let n=1;n<=this.numSegments;n++)null!==this.segments[n].size&&(t+=this.segments[n].size,e++);let n=360-t,i=0;n>0&&(i=n/(this.numSegments-e));let o=0;for(let t=1;t<=this.numSegments;t++)this.segments[t].startAngle=o,this.segments[t].size?o+=this.segments[t].size:o+=i,this.segments[t].endAngle=o}},Winwheel.prototype.clearCanvas=function(){this.ctx&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},Winwheel.prototype.draw=function(t){this.ctx&&(void 0!==t?1==t&&this.clearCanvas():this.clearCanvas(),"image"==this.drawMode?(this.drawWheelImage(),1==this.drawText&&this.drawSegmentText(),1==this.imageOverlay&&this.drawSegments()):"segmentImage"==this.drawMode?(this.drawSegmentImages(),1==this.drawText&&this.drawSegmentText(),1==this.imageOverlay&&this.drawSegments()):(this.drawSegments(),1==this.drawText&&this.drawSegmentText()),void 0!==this.pins&&1==this.pins.visible&&this.drawPins(),1==this.pointerGuide.display&&this.drawPointerGuide())},Winwheel.prototype.drawPins=function(){if(this.pins&&this.pins.number){let t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,n=this.outerRadius*this.scaleFactor,i=this.pins.outerRadius,o=this.pins.margin;this.pins.responsive&&(i=this.pins.outerRadius*this.scaleFactor,o=this.pins.margin*this.scaleFactor);let r=360/this.pins.number;for(let s=1;s<=this.pins.number;s++)this.ctx.save(),this.ctx.strokeStyle=this.pins.strokeStyle,this.ctx.lineWidth=this.pins.lineWidth,this.ctx.fillStyle=this.pins.fillStyle,this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(s*r+this.rotationAngle)),this.ctx.translate(-t,-e),this.ctx.beginPath(),this.ctx.arc(t,e-n+i+o,i,0,2*Math.PI),this.pins.fillStyle&&this.ctx.fill(),this.pins.strokeStyle&&this.ctx.stroke(),this.ctx.restore()}},Winwheel.prototype.drawPointerGuide=function(){if(this.ctx){let t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,n=this.outerRadius*this.scaleFactor;this.ctx.save(),this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(this.pointerAngle)),this.ctx.translate(-t,-e),this.ctx.strokeStyle=this.pointerGuide.strokeStyle,this.ctx.lineWidth=this.pointerGuide.lineWidth,this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(t,-n/4),this.ctx.stroke(),this.ctx.restore()}},Winwheel.prototype.drawWheelImage=function(){if(null!=this.wheelImage){let t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,n=this.wheelImage.width*this.scaleFactor,i=this.wheelImage.height*this.scaleFactor,o=t-n/2,r=e-i/2;this.ctx.save(),this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(this.rotationAngle)),this.ctx.translate(-t,-e),this.ctx.drawImage(this.wheelImage,o,r,n,i),this.ctx.restore()}},Winwheel.prototype.drawSegmentImages=function(){if(this.ctx){let t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor;if(this.segments)for(let n=1;n<=this.numSegments;n++){let i=this.segments[n];if(i.imgData.height){let n=0,o=0,r=0,s="",a=i.imgData.width*this.scaleFactor,l=i.imgData.height*this.scaleFactor;s=null!==i.imageDirection?i.imageDirection:this.imageDirection,"S"==s?(n=t-a/2,o=e,r=i.startAngle+180+(i.endAngle-i.startAngle)/2):"E"==s?(n=t,o=e-l/2,r=i.startAngle+270+(i.endAngle-i.startAngle)/2):"W"==s?(n=t-a,o=e-l/2,r=i.startAngle+90+(i.endAngle-i.startAngle)/2):(n=t-a/2,o=e-l,r=i.startAngle+(i.endAngle-i.startAngle)/2),this.ctx.save(),this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(this.rotationAngle+r)),this.ctx.translate(-t,-e),this.ctx.drawImage(i.imgData,n,o,a,l),this.ctx.restore()}else console.log("Segment "+n+" imgData is not loaded")}}},Winwheel.prototype.drawSegments=function(){if(this.ctx&&this.segments){let t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,n=this.innerRadius*this.scaleFactor,i=this.outerRadius*this.scaleFactor;for(let o=1;o<=this.numSegments;o++){let r,s,a,l=this.segments[o];if(r=null!==l.fillStyle?l.fillStyle:this.fillStyle,this.ctx.fillStyle=r,s=null!==l.lineWidth?l.lineWidth:this.lineWidth,this.ctx.lineWidth=s,a=null!==l.strokeStyle?l.strokeStyle:this.strokeStyle,this.ctx.strokeStyle=a,a||r){if(this.ctx.beginPath(),this.innerRadius){let i=Math.cos(this.degToRad(l.startAngle+this.rotationAngle-90))*(n-s/2),o=Math.sin(this.degToRad(l.startAngle+this.rotationAngle-90))*(n-s/2);this.ctx.moveTo(t+i,e+o)}else this.ctx.moveTo(t,e);this.ctx.arc(t,e,i,this.degToRad(l.startAngle+this.rotationAngle-90),this.degToRad(l.endAngle+this.rotationAngle-90),!1),this.innerRadius?this.ctx.arc(t,e,n,this.degToRad(l.endAngle+this.rotationAngle-90),this.degToRad(l.startAngle+this.rotationAngle-90),!0):this.ctx.lineTo(t,e),r&&this.ctx.fill(),a&&this.ctx.stroke()}}}},Winwheel.prototype.drawSegmentText=function(){if(this.ctx){let t,e,n,i,o,r,s,a,l,c,h=this.centerX*this.scaleFactor,u=this.centerY*this.scaleFactor,d=this.outerRadius*this.scaleFactor,g=this.innerRadius*this.scaleFactor;for(let p=1;p<=this.numSegments;p++){this.ctx.save();let m=this.segments[p];if(m.text){t=null!==m.textFontFamily?m.textFontFamily:this.textFontFamily,e=null!==m.textFontSize?m.textFontSize:this.textFontSize,n=null!==m.textFontWeight?m.textFontWeight:this.textFontWeight,i=null!==m.textOrientation?m.textOrientation:this.textOrientation,o=null!==m.textAlignment?m.textAlignment:this.textAlignment,r=null!==m.textDirection?m.textDirection:this.textDirection,s=null!==m.textMargin?m.textMargin:this.textMargin,a=null!==m.textFillStyle?m.textFillStyle:this.textFillStyle,l=null!==m.textStrokeStyle?m.textStrokeStyle:this.textStrokeStyle,c=null!==m.textLineWidth?m.textLineWidth:this.textLineWidth,e*=this.scaleFactor,s*=this.scaleFactor;let p="";null!=n&&(p+=n+" "),null!=e&&(p+=e+"px "),null!=t&&(p+=t),this.ctx.font=p,this.ctx.fillStyle=a,this.ctx.strokeStyle=l,this.ctx.lineWidth=c;let f=m.text.split("\n"),w=0-e*(f.length/2)+e/2;"curved"!=i||"inner"!=o&&"outer"!=o||(w=0);for(let t=0;t<f.length;t++){if("reversed"==r){if("horizontal"==i){this.ctx.textAlign="inner"==o?"right":"outer"==o?"left":"center",this.ctx.textBaseline="middle";let e=this.degToRad(m.endAngle-(m.endAngle-m.startAngle)/2+this.rotationAngle-90-180);this.ctx.save(),this.ctx.translate(h,u),this.ctx.rotate(e),this.ctx.translate(-h,-u),"inner"==o?(a&&this.ctx.fillText(f[t],h-g-s,u+w),l&&this.ctx.strokeText(f[t],h-g-s,u+w)):"outer"==o?(a&&this.ctx.fillText(f[t],h-d+s,u+w),l&&this.ctx.strokeText(f[t],h-d+s,u+w)):(a&&this.ctx.fillText(f[t],h-g-(d-g)/2-s,u+w),l&&this.ctx.strokeText(f[t],h-g-(d-g)/2-s,u+w)),this.ctx.restore()}else if("vertical"==i){this.ctx.textAlign="center",this.ctx.textBaseline="inner"==o?"top":"outer"==o?"bottom":"middle";let n=m.endAngle-(m.endAngle-m.startAngle)/2-180;n+=this.rotationAngle,this.ctx.save(),this.ctx.translate(h,u),this.ctx.rotate(this.degToRad(n)),this.ctx.translate(-h,-u);let i=0;"outer"==o?i=u+d-s:"inner"==o&&(i=u+g+s);let r=e-e/9;if("outer"==o)for(let e=f[t].length-1;e>=0;e--){let n=f[t].charAt(e);a&&this.ctx.fillText(n,h+w,i),l&&this.ctx.strokeText(n,h+w,i),i-=r}else if("inner"==o)for(let e=0;e<f[t].length;e++){let n=f[t].charAt(e);a&&this.ctx.fillText(n,h+w,i),l&&this.ctx.strokeText(n,h+w,i),i+=r}else if("center"==o){let e=0;f[t].length>1&&(e=r*(f[t].length-1)/2);let n=u+g+(d-g)/2+e+s;for(let e=f[t].length-1;e>=0;e--){let i=f[t].charAt(e);a&&this.ctx.fillText(i,h+w,n),l&&this.ctx.strokeText(i,h+w,n),n-=r}}this.ctx.restore()}else if("curved"==i){let n=0;"inner"==o?(n=g+s,this.ctx.textBaseline="top"):"outer"==o?(n=d-s,this.ctx.textBaseline="bottom",n-=e*(f.length-1)):"center"==o&&(n=g+s+(d-g)/2,this.ctx.textBaseline="middle");let i=0,r=0;if(f[t].length>1){this.ctx.textAlign="left",i=e/10*4,i*=100/n;let o=i*f[t].length;r=m.startAngle+((m.endAngle-m.startAngle)/2-o/2)}else r=m.startAngle+(m.endAngle-m.startAngle)/2,this.ctx.textAlign="center";r+=this.rotationAngle,r-=180;for(let e=f[t].length;e>=0;e--){this.ctx.save();let o=f[t].charAt(e);this.ctx.translate(h,u),this.ctx.rotate(this.degToRad(r)),this.ctx.translate(-h,-u),l&&this.ctx.strokeText(o,h,u+n+w),a&&this.ctx.fillText(o,h,u+n+w),r+=i,this.ctx.restore()}}}else if("horizontal"==i){this.ctx.textAlign="inner"==o?"left":"outer"==o?"right":"center",this.ctx.textBaseline="middle";let e=this.degToRad(m.endAngle-(m.endAngle-m.startAngle)/2+this.rotationAngle-90);this.ctx.save(),this.ctx.translate(h,u),this.ctx.rotate(e),this.ctx.translate(-h,-u),"inner"==o?(a&&this.ctx.fillText(f[t],h+g+s,u+w),l&&this.ctx.strokeText(f[t],h+g+s,u+w)):"outer"==o?(a&&this.ctx.fillText(f[t],h+d-s,u+w),l&&this.ctx.strokeText(f[t],h+d-s,u+w)):(a&&this.ctx.fillText(f[t],h+g+(d-g)/2+s,u+w),l&&this.ctx.strokeText(f[t],h+g+(d-g)/2+s,u+w)),this.ctx.restore()}else if("vertical"==i){this.ctx.textAlign="center",this.ctx.textBaseline="inner"==o?"bottom":"outer"==o?"top":"middle";let n=m.endAngle-(m.endAngle-m.startAngle)/2;n+=this.rotationAngle,this.ctx.save(),this.ctx.translate(h,u),this.ctx.rotate(this.degToRad(n)),this.ctx.translate(-h,-u);let i=0;"outer"==o?i=u-d+s:"inner"==o&&(i=u-g-s);let r=e-e/9;if("outer"==o)for(let e=0;e<f[t].length;e++){let n=f[t].charAt(e);a&&this.ctx.fillText(n,h+w,i),l&&this.ctx.strokeText(n,h+w,i),i+=r}else if("inner"==o)for(let e=f[t].length-1;e>=0;e--){let n=f[t].charAt(e);a&&this.ctx.fillText(n,h+w,i),l&&this.ctx.strokeText(n,h+w,i),i-=r}else if("center"==o){let e=0;f[t].length>1&&(e=r*(f[t].length-1)/2);let n=u-g-(d-g)/2-e-s;for(let e=0;e<f[t].length;e++){let i=f[t].charAt(e);a&&this.ctx.fillText(i,h+w,n),l&&this.ctx.strokeText(i,h+w,n),n+=r}}this.ctx.restore()}else if("curved"==i){let n=0;"inner"==o?(n=g+s,this.ctx.textBaseline="bottom",n+=e*(f.length-1)):"outer"==o?(n=d-s,this.ctx.textBaseline="top"):"center"==o&&(n=g+s+(d-g)/2,this.ctx.textBaseline="middle");let i=0,r=0;if(f[t].length>1){this.ctx.textAlign="left",i=e/10*4,i*=100/n;let o=i*f[t].length;r=m.startAngle+((m.endAngle-m.startAngle)/2-o/2)}else r=m.startAngle+(m.endAngle-m.startAngle)/2,this.ctx.textAlign="center";r+=this.rotationAngle;for(let e=0;e<f[t].length;e++){this.ctx.save();let o=f[t].charAt(e);this.ctx.translate(h,u),this.ctx.rotate(this.degToRad(r)),this.ctx.translate(-h,-u),l&&this.ctx.strokeText(o,h,u-n+w),a&&this.ctx.fillText(o,h,u-n+w),r+=i,this.ctx.restore()}}w+=e}}this.ctx.restore()}}},Winwheel.prototype.degToRad=function(t){return.017453292519943295*t},Winwheel.prototype.setCenter=function(t,e){this.centerX=t,this.centerY=e},Winwheel.prototype.addSegment=function(t,e){let n,i=new Segment(t);if(this.numSegments++,void 0!==e){for(let t=this.numSegments;t>e;t--)this.segments[t]=this.segments[t-1];this.segments[e]=i,n=e}else this.segments[this.numSegments]=i,n=this.numSegments;return this.updateSegmentSizes(),this.segments[n]},Winwheel.prototype.setCanvasId=function(t){t?(this.canvasId=t,this.canvas=document.getElementById(this.canvasId),this.canvas&&(this.ctx=this.canvas.getContext("2d"))):(this.canvasId=null,this.ctx=null,this.canvas=null)},Winwheel.prototype.deleteSegment=function(t){if(this.numSegments>1){if(void 0!==t)for(let e=t;e<this.numSegments;e++)this.segments[e]=this.segments[e+1];this.segments[this.numSegments]=void 0,this.numSegments--,this.updateSegmentSizes()}},Winwheel.prototype.windowToCanvas=function(t,e){let n=this.canvas.getBoundingClientRect();return{x:Math.floor(t-n.left*(this.canvas.width/n.width)),y:Math.floor(e-n.top*(this.canvas.height/n.height))}},Winwheel.prototype.getSegmentAt=function(t,e){let n=null,i=this.getSegmentNumberAt(t,e);return null!==i&&(n=this.segments[i]),n},Winwheel.prototype.getSegmentNumberAt=function(t,e){let n,i,o,r,s,a=this.windowToCanvas(t,e),l=this.centerX*this.scaleFactor,c=this.centerY*this.scaleFactor,h=this.outerRadius*this.scaleFactor,u=this.innerRadius*this.scaleFactor;a.x>l?(o=a.x-l,i="R"):(o=l-a.x,i="L"),a.y>c?(r=a.y-c,n="B"):(r=c-a.y,n="T");let d=r/o,g=180*Math.atan(d)/Math.PI,p=0;if(s=Math.sqrt(r*r+o*o),"T"==n&&"R"==i?p=Math.round(90-g):"B"==n&&"R"==i?p=Math.round(g+90):"B"==n&&"L"==i?p=Math.round(90-g+180):"T"==n&&"L"==i&&(p=Math.round(g+270)),0!=this.rotationAngle){p-=this.getRotationPosition(),p<0&&(p=360-Math.abs(p))}let m=null;for(let t=1;t<=this.numSegments;t++)if(p>=this.segments[t].startAngle&&p<=this.segments[t].endAngle&&s>=u&&s<=h){m=t;break}return m},Winwheel.prototype.getIndicatedSegment=function(){let t=this.getIndicatedSegmentNumber();return this.segments[t]},Winwheel.prototype.getIndicatedSegmentNumber=function(){let t=0,e=this.getRotationPosition(),n=Math.floor(this.pointerAngle-e);n<0&&(n=360-Math.abs(n));for(let e=1;e<this.segments.length;e++)if(n>=this.segments[e].startAngle&&n<=this.segments[e].endAngle){t=e;break}return t},Winwheel.prototype.getCurrentPinNumber=function(){let t=0;if(this.pins){let e=this.getRotationPosition(),n=Math.floor(this.pointerAngle-e);n<0&&(n=360-Math.abs(n));let i=360/this.pins.number,o=0;for(let e=0;e<this.pins.number;e++){if(n>=o&&n<=o+i){t=e;break}o+=i}"clockwise"==this.animation.direction&&(t++,t>this.pins.number&&(t=0))}return t},Winwheel.prototype.getRotationPosition=function(){let t=this.rotationAngle;if(t>=0){if(t>360){t-=360*Math.floor(t/360)}}else{if(t<-360){t-=360*Math.ceil(t/360)}t=360+t}return t},Winwheel.prototype.startAnimation=function(){if(this.animation){this.computeAnimation(),winwheelToDrawDuringAnimation=this;let t=new Array(null);t[this.animation.propertyName]=this.animation.propertyValue,t.yoyo=this.animation.yoyo,t.repeat=this.animation.repeat,t.ease=this.animation.easing,t.onUpdate=winwheelAnimationLoop,t.onComplete=winwheelStopAnimation,this.tween=TweenMax.to(this,this.animation.duration,t)}},Winwheel.prototype.stopAnimation=function(t){winwheelToDrawDuringAnimation&&(winwheelToDrawDuringAnimation.tween&&winwheelToDrawDuringAnimation.tween.kill(),winwheelStopAnimation(t)),winwheelToDrawDuringAnimation=this},Winwheel.prototype.pauseAnimation=function(){this.tween&&this.tween.pause()},Winwheel.prototype.resumeAnimation=function(){this.tween&&this.tween.play()},Winwheel.prototype.computeAnimation=function(){this.animation&&("spinOngoing"==this.animation.type?(this.animation.propertyName="rotationAngle",null==this.animation.spins&&(this.animation.spins=5),null==this.animation.repeat&&(this.animation.repeat=-1),null==this.animation.easing&&(this.animation.easing="Linear.easeNone"),null==this.animation.yoyo&&(this.animation.yoyo=!1),this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"==this.animation.direction&&(this.animation.propertyValue=0-this.animation.propertyValue)):"spinToStop"==this.animation.type?(this.animation.propertyName="rotationAngle",null==this.animation.spins&&(this.animation.spins=5),null==this.animation.repeat&&(this.animation.repeat=0),null==this.animation.easing&&(this.animation.easing="Power3.easeOut"),null==this.animation.stopAngle?this.animation._stopAngle=Math.floor(359*Math.random()):this.animation._stopAngle=360-this.animation.stopAngle+this.pointerAngle,null==this.animation.yoyo&&(this.animation.yoyo=!1),this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"==this.animation.direction?(this.animation.propertyValue=0-this.animation.propertyValue,this.animation.propertyValue-=360-this.animation._stopAngle):this.animation.propertyValue+=this.animation._stopAngle):"spinAndBack"==this.animation.type?(this.animation.propertyName="rotationAngle",null==this.animation.spins&&(this.animation.spins=5),null==this.animation.repeat&&(this.animation.repeat=1),null==this.animation.easing&&(this.animation.easing="Power2.easeInOut"),null==this.animation.yoyo&&(this.animation.yoyo=!0),null==this.animation.stopAngle?this.animation._stopAngle=0:this.animation._stopAngle=360-this.animation.stopAngle,this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"==this.animation.direction?(this.animation.propertyValue=0-this.animation.propertyValue,this.animation.propertyValue-=360-this.animation._stopAngle):this.animation.propertyValue+=this.animation._stopAngle):this.animation.type)},Winwheel.prototype.getRandomForSegment=function(t){let e=0;if(t)if(void 0!==this.segments[t]){let n=this.segments[t].startAngle,i=this.segments[t].endAngle-n-2;i>0?e=n+1+Math.floor(Math.random()*i):console.log("Segment size is too small to safely get random angle inside it")}else console.log("Segment "+t+" undefined");else console.log("Segment number not specified");return e},Segment.prototype.changeImage=function(t,e){this.image=t,this.imgData=null,e&&(this.imageDirection=e),winhweelAlreadyDrawn=!1,this.imgData=new Image,this.imgData.onload=winwheelLoadedImage,this.imgData.src=this.image};let winwheelToDrawDuringAnimation=null;function winwheelStopAnimation(canCallback){if(0!=canCallback){let callback=winwheelToDrawDuringAnimation.animation.callbackFinished;null!=callback&&("function"==typeof callback?callback(winwheelToDrawDuringAnimation.getIndicatedSegment()):eval(callback))}}let winhweelAlreadyDrawn=!1;function winwheelLoadedImage(){if(0==winhweelAlreadyDrawn){let t=0;for(let e=1;e<=winwheelToDrawDuringAnimation.numSegments;e++)null!=winwheelToDrawDuringAnimation.segments[e].imgData&&winwheelToDrawDuringAnimation.segments[e].imgData.height&&t++;t==winwheelToDrawDuringAnimation.numSegments&&(winhweelAlreadyDrawn=!0,winwheelToDrawDuringAnimation.draw())}}function winwheelResize(){let t=40;void 0!==winwheelToDrawDuringAnimation._responsiveMargin&&(t=winwheelToDrawDuringAnimation._responsiveMargin);let e=window.innerWidth-t,n=winwheelToDrawDuringAnimation._responsiveMinWidth,i=winwheelToDrawDuringAnimation._responsiveMinHeight;e<n?e=n:e>winwheelToDrawDuringAnimation._originalCanvasWidth&&(e=winwheelToDrawDuringAnimation._originalCanvasWidth);let o=e/winwheelToDrawDuringAnimation._originalCanvasWidth;if(winwheelToDrawDuringAnimation.canvas.width=winwheelToDrawDuringAnimation._originalCanvasWidth*o,winwheelToDrawDuringAnimation._responsiveScaleHeight){let t=winwheelToDrawDuringAnimation._originalCanvasHeight*o;t<i?t=i:t>winwheelToDrawDuringAnimation._originalCanvasHeight&&(t=winwheelToDrawDuringAnimation._originalCanvasHeight),winwheelToDrawDuringAnimation.canvas.height=t}winwheelToDrawDuringAnimation.scaleFactor=o,winwheelToDrawDuringAnimation.draw()}function create_fragment$1(t){let e,n,i,o,r,s,a,l,c;return{c(){e=element("div"),n=element("canvas"),i=text("Canvas not supported, use another browser."),o=space(),r=element("div"),s=element("span"),s.textContent="👈",a=space(),l=element("button"),l.textContent="SPIN",attr(n,"id","wheel"),attr(n,"width",t[0]),attr(n,"height",t[1]),attr(n,"class","w-full"),attr(r,"class","absolute text-2xl"),set_style(r,"left",t[0]+"px"),set_style(r,"top",t[1]/2-5+"px"),attr(l,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border\n    border-blue-700 rounded m-4"),attr(e,"class","text-center p-4")},m(h,u){insert(h,e,u),append(e,n),append(n,i),append(e,o),append(e,r),append(r,s),append(e,a),append(e,l),c=listen(l,"click",t[2])},p(t,[e]){1&e&&attr(n,"width",t[0]),2&e&&attr(n,"height",t[1]),1&e&&set_style(r,"left",t[0]+"px"),2&e&&set_style(r,"top",t[1]/2-5+"px")},i:noop,o:noop,d(t){t&&detach(e),c()}}}function instance$1(t,e,n){const i=createEventDispatcher();let o,{width:r="500"}=e,{height:s="500"}=e;function a(t){i("message",{text:t.text}),o.rotationAngle=0}return onMount(()=>{o=new Winwheel_1({canvasId:"wheel",pointerAngle:90,numSegments:15,innerRadius:60,textFontSize:16,textMargin:0,segments:[{fillStyle:"#eae56f",text:"Spoons"},{fillStyle:"#89f26e",text:"Chip shop"},{fillStyle:"#7de6ef",text:"McDonalds"},{fillStyle:"#e7706f",text:"Hooters"},{fillStyle:"#eae56f",text:"Burger King"},{fillStyle:"#89f26e",text:"Greggs"},{fillStyle:"#7de6ef",text:"KFC"},{fillStyle:"#e7706f",text:"Barburrito"},{fillStyle:"#eae56f",text:"Taco Bell"},{fillStyle:"#89f26e",text:"MOD Pizza"},{fillStyle:"#7de6ef",text:"Five Guys"},{fillStyle:"#e7706f",text:"Subway"},{fillStyle:"#eae56f",text:"Chopstix"},{fillStyle:"#89f26e",text:"Via Fossa (sunny day)"},{fillStyle:"#7de6ef",text:"Canalhouse"}],animation:{type:"spinToStop",duration:20,spins:12,callbackFinished:a}})}),t.$set=t=>{"width"in t&&n(0,r=t.width),"height"in t&&n(1,s=t.height)},[r,s,function(){o.startAnimation()}]}class Wheel extends SvelteComponent{constructor(t){super(),init(this,t,instance$1,create_fragment$1,safe_not_equal,{width:0,height:1})}}const colors=["#D8589F","#EE4523","#FBE75D","#4FC5DF"],bubbles=80,explode=(t,e)=>{let n=[],i=window.devicePixelRatio,o=document.createElement("canvas"),s=o.getContext("2d");o.style.position="absolute",o.style.left=t-100+"px",o.style.top=e-50+"px",o.style.pointerEvents="none",o.style.width="500px",o.style.height="500px",o.style.zIndex=9999,o.width=500*i,o.height=500*i,document.body.appendChild(o);for(var a=0;a<bubbles;a++)n.push({x:o.width/2,y:o.height/r(2,4),radius:r(3,8),color:colors[Math.floor(Math.random()*colors.length)],rotation:r(230,310,!0),speed:r(3,7),friction:.99,fade:.03,opacity:r(150,150,!0),yVel:0,gravity:.06});render(n,s,o.width,o.height),setTimeout(()=>document.body.removeChild(o),5e3)},render=(t,e,n,i)=>(requestAnimationFrame(()=>render(t,e,n,i)),e.clearRect(0,0,n,i),t.forEach((t,n)=>{t.x+=t.speed*Math.cos(t.rotation*Math.PI/180),t.y+=t.speed*Math.sin(t.rotation*Math.PI/180),t.opacity-=.005,t.speed*=t.friction,t.radius-=t.fade,t.yVel+=t.gravity,t.y+=t.yVel,t.opacity<0||t.radius<0||(e.beginPath(),e.globalAlpha=t.opacity,e.fillStyle=t.color,e.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),e.fill())}),e),r=(t,e,n)=>parseFloat((Math.random()*((t||1)-(e||0))+(e||0)).toFixed(n||0));function pop(t){let e=document.getElementById(t),n=e.offsetLeft,i=e.offsetTop;explode(n,i)}function create_fragment$2(t){let e,n,i,o,r,s;const a=new Wheel({});return a.$on("message",t[1]),{c(){e=element("main"),n=element("div"),create_component(a.$$.fragment),i=space(),o=element("div"),r=text(t[0]),attr(o,"id","confetti"),attr(o,"class","m-auto text-6xl"),attr(n,"class","w-full mx-auto px-auto flex"),attr(e,"class","h-100")},m(t,l){insert(t,e,l),append(e,n),mount_component(a,n,null),append(n,i),append(n,o),append(o,r),s=!0},p(t,[e]){(!s||1&e)&&set_data(r,t[0])},i(t){s||(transition_in(a.$$.fragment,t),s=!0)},o(t){transition_out(a.$$.fragment,t),s=!1},d(t){t&&detach(e),destroy_component(a)}}}function instance$2(t,e,n){let i="";return[i,function(t){n(0,i=t.detail.text),pop("confetti")}]}class Index extends SvelteComponent{constructor(t){super(),init(this,t,instance$2,create_fragment$2,safe_not_equal,{})}}function create_fragment$3(t){let e;const n=new Index({});return{c(){create_component(n.$$.fragment)},m(t,i){mount_component(n,t,i),e=!0},p:noop,i(t){e||(transition_in(n.$$.fragment,t),e=!0)},o(t){transition_out(n.$$.fragment,t),e=!1},d(t){destroy_component(n,t)}}}class App extends SvelteComponent{constructor(t){super(),init(this,t,null,create_fragment$3,safe_not_equal,{})}}const app=new App({target:document.body});return app}();
//# sourceMappingURL=bundle.js.map
